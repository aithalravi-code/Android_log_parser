
Running 3 tests using 3 workers

Step 1: Uploading initial log file...
Step 1: Uploading initial log file...
Switching to BTSnoop tab...
[Browser] [Click Debug] Target: BUTTON Classes: tab-btn active ParentTable: undefined
[Browser] [Perf Phase2] Lazy loading btsnoop tab...
[Browser] [Debug] processForBtsnoop: Starting...
[Browser] [BTSnoop Debug] processForBtsnoop called
[Browser] [BTSnoop] Worker code changed (v2025-12-07-00:09), clearing ALL cache...
[Browser] [BTSnoop] All cache cleared (including logStore), will force re-process
Step 1: Uploading initial log file...
[Browser] [Init] Cleared old data.
[Browser] [Perf] Resolving btsnoop handles in memory...
[Browser] [Perf] Resolved handles for 0 packets in 10.50ms
Switching to BTSnoop tab...
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [Click Debug] Target: BUTTON Classes: tab-btn active ParentTable: undefined
[Browser] [BTSnoop Debug] 6. Created 66 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 66 children
[Browser] [Perf Phase2] BTSnoop tab loaded. Total packets: 42074
[Browser] [Perf Phase2] btsnoop tab loaded in 894.60ms
[Browser] [Perf] Filter state changed - re-filtering btsnoop tab
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
[Browser] [Perf Phase2] Lazy loading btsnoop tab...
[Browser] [Debug] processForBtsnoop: Starting...
[Browser] [BTSnoop Debug] processForBtsnoop called
[Browser] [BTSnoop] Worker code changed (v2025-12-07-00:09), clearing ALL cache...
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [BTSnoop] All cache cleared (including logStore), will force re-process
[Browser] [BTSnoop Debug] 6. Created 66 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 66 children
Initial rows: 66
Step 2: Uploading ZIP file while valid BTSnoop tab is active...
Switching to BTSnoop tab...
[Browser] [Click Debug] Target: BUTTON Classes: tab-btn active ParentTable: undefined
[Browser] [Perf Phase2] Lazy loading btsnoop tab...
[Browser] [Debug] processForBtsnoop: Starting...
[Browser] [BTSnoop Debug] processForBtsnoop called
[Browser] [BTSnoop] Worker code changed (v2025-12-07-00:09), clearing ALL cache...
[Browser] [BTSnoop] All cache cleared (including logStore), will force re-process
[Browser] [Perf] Resolving btsnoop handles in memory...
[Browser] [Perf] Resolved handles for 0 packets in 8.00ms
[Browser] [Perf] Resolving btsnoop handles in memory...
[Browser] [Perf] Resolved handles for 0 packets in 4.00ms
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [BTSnoop Debug] 6. Created 65 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 65 children
[Browser] [Perf Phase2] BTSnoop tab loaded. Total packets: 42074
[Browser] [Perf Phase2] btsnoop tab loaded in 1682.00ms
[Browser] [Perf] Filter state changed - re-filtering btsnoop tab
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [BTSnoop Debug] 6. Created 65 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 65 children
Initial rows: 65
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
Step 2: Uploading ZIP file while valid BTSnoop tab is active...
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [BTSnoop Debug] 6. Created 66 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 66 children
[Browser] [Perf Phase2] BTSnoop tab loaded. Total packets: 42074
[Browser] [Perf Phase2] btsnoop tab loaded in 1147.00ms
[Browser] [Perf] Filter state changed - re-filtering btsnoop tab
[Browser] [BTSnoop Debug] 1. setupBtsnoopTab called.
[Browser] [BTSnoop Debug] 2. Attaching btsnoop layer filters and calling renderBtsnoopPackets.
[Browser] [BTSnoop Debug] 3. Rendering btsnoop packets (virtual scroll).
[Browser] [Debug] RenderBtsnoopPackets: In-memory packets: 42074
[Browser] [BTSnoop Debug] 6. Created 66 visible rows
[Browser] [BTSnoop Debug] 7. Viewport now has 66 children
Initial rows: 66
Step 2: Uploading ZIP file while valid BTSnoop tab is active...
No ZIP modal appeared (or auto-processed).
No ZIP modal appeared (or auto-processed).
No ZIP modal appeared (or auto-processed).
Rows after reload: 66
Initial View Text: "Found 1 btsnoop file(s). Parsing and storing packets...Saving 42,074 packets..."
  âœ“  2 [chromium] â€º tests/e2e/btsnoop_load_bug.spec.js:16:5 â€º BTSnoop Reload Behavior â€º Should reload BTSnoop logs when uploading ZIP while already on BTSnoop tab (12.9s)
Rows after reload: 65
Initial View Text: "Found 1 btsnoop file(s). Parsing and storing packets...Saving 42,074 packets..."
Rows after reload: 66
Initial View Text: "Found 1 btsnoop file(s). Parsing and storing packets...Saving 42,074 packets..."
  âœ“  1 [firefox] â€º tests/e2e/btsnoop_load_bug.spec.js:16:5 â€º BTSnoop Reload Behavior â€º Should reload BTSnoop logs when uploading ZIP while already on BTSnoop tab (13.4s)
  âœ“  3 [webkit] â€º tests/e2e/btsnoop_load_bug.spec.js:16:5 â€º BTSnoop Reload Behavior â€º Should reload BTSnoop logs when uploading ZIP while already on BTSnoop tab (14.9s)

  3 passed (18.0s)

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m
